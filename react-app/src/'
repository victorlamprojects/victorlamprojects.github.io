import { useRef, useLayoutEffect } from "react";
import styled from "styled-components";
import GlobalStyle from "./theme/globalStyles";
import NavBar from "./containers/NavBar";
import Home from "./containers/Home";
import About from "./containers/About";
import Work from "./containers/Work";
import Contact from "./containers/Contact";
import Content from "./common/Content";

const Banner = styled.div`
	position: fixed;
	z-index: 1;
	background-color: #22D1EE;
	&.home {
		top: -25%;
		left: 50%;
		width: 1500px;
		height: 750px;
		transform: rotate(-30deg);
		transition: 2s all ease;
	}
	&.1 {
	}
	&.2 {
	}
`

const App = () => {
	const bannerRef = useRef(null);

	useLayoutEffect(()=>{
		const onScroll = () => {
			const banner = bannerRef.current;
			if(banner){
				const scrollPos = window.scrollY + window.innerHeight;
				const topPos = document.getElementById("home").getBoundingClientRect().top;
				const aboutPos = document.getElementById("about").getBoundingClientRect().top;
				const workPos = document.getElementById("work").getBoundingClientRect().top;
				const contactPos = document.getElementById("contact").getBoundingClientRect().top;
				if(topPos < scrollPos){

				}
			}
		}
		window.addEventListener("scroll", onScroll);
		return ()=>{
			window.removeEventListener("scroll", onScroll);
		}
	}, []);

	return (
		<div className="App">
			<GlobalStyle />
			<NavBar />
			<Banner ref={bannerRef}/>
			<Content>
				<Home />
				<About />
				<Work />
				<Contact />
			</Content>
		</div>
	);
}

export default App;
